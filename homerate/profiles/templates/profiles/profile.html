{% extends 'homepage/base.html' %}
{% load staticfiles%}
{% load sass_tags %}

{% block title %}
{{ user.username }}
{% endblock %}

{% block head %}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
<link rel="stylesheet" href="{% sass_src 'css/boxes.scss' %}">
{% endblock %}

{% block content %}

<div class="container">
    <h1>HomeRate</h1>

    <div> <!-- settings area-->
        <h2> Settings and Preferences</h2>
        <div class="settings">
            <div class="weightingSettings" id="weightings">
                <h3> Star Rating Weightings</h3>
                <p> Customise how houses are rated to suit your wants.</p>
                <form method="POST" class="form", action="{% url 'profile' %}#weightings">{% csrf_token %}
                    {{ weights_form.as_p }}
                    <div>
                        <button type="submit" class="button">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="{% static 'js/jquery.barrating.min.js' %}"></script>
<script type="text/javascript">
   (function($) {
     $(function() {
      $('.weighting').barrating({
        theme: 'bars-square',
        allowEmpty: true,
        initialRating: 0,
        deselectable: true,
        showValues: true,
        showSelectedRating: false
      });
     });

      $(function() {
      $('.weightingMandatory').barrating({
        theme: 'bars-square',
        showValues: true,
        showSelectedRating: false
      });
     });
   })(jQuery);

</script>

{% endblock %}